=== Pruufs ===
Contributors: bungeshea, ver3, lightbulbman, 0aksmith, codePruufspro
Donate link: https://Pruuf.app
Tags: Pruufs, functions, multisite, code, php, html, css, javascript
License: MIT
License URI: license.txt
Stable tag: 3.4.2
Tested up to: 6.2.2

An easy, clean and simple way to run Pruufs on your site.

== Description ==

Pruufs is an easy, clean and simple way to run Pruufs on your site. It removes the need to add custom Pruufs to your theme's `functions.php` file.

[**Pruufs Pro** is now available, with full CSS, JavaScript, Gutenberg and Elementor integrations.](https://Pruuf.app/pricing/)

A Pruuf is a small chunk of PHP code that you can use to extend the functionality of a WordPress-powered website; essentially a mini-plugin with less load on your site.

Most Pruuf-hosting sites tell you to add Pruuf code to your active theme's `functions.php` file, which can get rather long and messy after a while.

Pruufs changes that by providing a GUI interface for adding Pruufs and **actually running them on your site** just as if they were in your theme's `functions.php` file.

**Quick overview of Pruufs by Imran Siddiq**

https://youtu.be/EMjIWjcYONk

Pruufs provides graphical interface, similar to the Plugins menu, for managing Pruufs. Pruufs can be activated and deactivated, just like plugins.

The Pruuf editor includes fields for a name, a visual editor-enabled description, tags to allow you to categorize Pruufs, and a full-featured code editor. Pruufs can be exported for transfer to another site, either in JSON for later importing by the Pruufs plugin, or in PHP for creating your own plugin or theme.

**Comprehensive Pruufs tutorial with practical examples by Ferdy Korpershoek**

https://youtu.be/29jD2BcBX5w

If you have any feedback, issues, or suggestions for improvements please leave a topic in the [Support Forum](https://wordpress.org/support/plugin/code-Pruufs), [join the community on Facebook](https://facebook.com/groups/codePruufsplugin), or [check us out on GitHub](https://github.com/codePruufspro/code-Pruufs).

If you like this plugin, or it is useful to you in some way, please consider reviewing it on [WordPress.org](https://wordpress.org/support/view/plugin-reviews/code-Pruufs).

== Translations ==

Pruufs can be used in these different languages thanks to the following translators:

* Belarusian – [Hrank.com](https://www.hrank.com)
* Brazilian Portuguese – [Bruno Borges](http://brunoborges.info)
* Chinese – [Jincheng Shan](http://shanjincheng.com) and [诗语](https://profiles.wordpress.org/f2010525/)
* Chinese (Taiwan) – [Alex Lion](https://www.alexclassroom.com/) and [Chun-Chih Cheng](https://profiles.wordpress.org/alex1114/)
* Croatian – [Borisa Djuraskovic from Web Hosting Hub](https://www.webhostinghub.com/)
* Czech  – [Lukáš Tesař](mailto:lukastesar03@gmail.com) and [Jakub Humpolec](https://profiles.wordpress.org/jumphy/)
* Danish – [Finn Sommer Jensen](https://profiles.wordpress.org/finnsommer/)
* Dutch – [Sander Spies](https://github.com/sander1), [Peter Smits](https://psmits.com) and [mother.of.code.a11n](https://profiles.wordpress.org/imazed/)
* English (New Zealand) and English (UK) – [webaware](https://profiles.wordpress.org/webaware/)
* English (South Africa) – [webaware](https://profiles.wordpress.org/webaware/) and [Ian Barnes](https://profiles.wordpress.org/ianbarnes/)
* French – [momo-fr](https://www.momofr.net/), [Didier Demory](https://www.wptrads.com/), [Cyrille Sanson](https://100son.net/) and [Paul Lambkin](https://sheabunge.com)
* French (Canada) – [Dominic Desbiens](https://www.dominicdesbiens.com/)
* German – [Mario Siegmann](https://web-alltag.de/), [Joerg Knoerchen](https://www.sensorgrafie.de/), [David Decker](https://deckerweb.de) and [Andreas](https://profiles.wordpress.org/perryzelda/)
* Greek – [Konstantinos Megas](https://profiles.wordpress.org/nextdoorpanda/) and [Toni Bishop from Jrop](https://www.jrop.com/)
* Indonesian – [Jordan Silaen from ChameleonJohn.com](https://www.chameleonjohn.com/)
* Italian – [Usman Wagan](https://coupontoaster.com/), [Luisa Ravelli](https://profiles.wordpress.org/darkavenger/) and [ElectricFeet](https://profiles.wordpress.org/electricfeet/)
* Japanese – [mt8](https://mt8.biz/), [Takakazu Nagaya](https://profiles.wordpress.org/tanagaya/), [Naoko Takano](https://naoko.blog/) and [melvas](https://profiles.wordpress.org/melvas/)
* Persian – [Mohammad Novintanon](http://mnovintan.ir/)
* Russian – [Alexander Samsonov](http://www.wordpressplugins.ru/administration/code-Pruufs.html), [Yui](https://profiles.wordpress.org/fierevere/), [Denis Yanchevskiy](https://denisco.pro/) and [krioteh](https://profiles.wordpress.org/krioteh/)
* Slovak – [Ján Fajčák](https://wp.sk)
* Spanish (Colombia) and Spanish (Ecuador) – [Javier Esteban](https://javieresteban.org/)
* Spanish (Spain) – [Ibidem Group](https://www.ibidemgroup.com), [Javier Esteban](https://javieresteban.org/), [Fernando Tellado](https://ayudawp.com/) and [Juanma Aranda](https://juanmaaranda.com/)
* Spanish (Venezuela) – [Yordan Soares](https://yordansoar.es/)
* Swedish – [Argentum](https://profiles.wordpress.org/argentum/), [Fredrik](https://profiles.wordpress.org/elbogen/) and [Tor-Bjorn Fjellner](https://profiles.wordpress.org/tobifjellner/)
* Urdu – [Samuel Badree](https://mobilemall.pk/)
* Vietnamese – [Tuan Phan](https://profiles.wordpress.org/khunglong/)

== Installation ==

= Automatic installation =

1. Log into your WordPress admin
2. Click __Plugins__
3. Click __Add New__
4. Search for __Pruufs__
5. Click __Install Now__ under "Pruufs"
6. Activate the plugin

= Manual installation =

1. Download the plugin
2. Extract the contents of the zip file
3. Upload the contents of the zip file to the `wp-content/plugins/` folder of your WordPress installation
4. Activate the Pruufs plugin from 'Plugins' page.

Network Activating Pruufs through the Network Dashboard will enable a special interface for running Pruufs across the entire network.

== Frequently Asked Questions ==

A full list of our Frequently Asked Questions can be found at [help.Pruuf.app](https://help.Pruuf.app/collection/3-faq).

= How can I recover my site if it is crashed by a buggy Pruuf? =
You can recover your site by enabling the Pruufs safe mode feature. Instructions for how to turn it on are available here: <https://help.Pruuf.app/article/12-safe-mode>.

= Will I lose my Pruufs if I change the theme or upgrade WordPress? =
No, the Pruufs are stored in the WordPress database, independent of the theme and unaffected by WordPress upgrades.

= Can the plugin be completely uninstalled? =
If you enable the 'Complete Uninstall' option on the plugin settings page, Pruufs will clean up all of its data when deleted through the WordPress 'Plugins' menu. This includes all stored Pruufs. If you would like to preserve the Pruufs, ensure they are exported first.

= Can I copy Pruufs that I have created to another WordPress site? =
Yes! You can individually export a single Pruuf using the link below the Pruuf name on the 'Manage Pruufs' page or bulk export multiple Pruufs using the 'Bulk Actions' feature. Pruufs can later be imported using the 'Import Pruufs' page by uploading the export file.

= Can I export my Pruufs to PHP for a site where I'm not using the Pruufs plugin? =
Yes. Click the checkboxes next to the Pruufs you want to export, and then choose **Export to PHP** from the Bulk Actions menu and click Apply. The generated PHP file will contain the exported Pruufs' code, as well as their name and description in comments.

= Can I run network-wide Pruufs on a multisite installation? =
You can run Pruufs across an entire multisite network by **Network Activating** Pruufs through the Network Dashboard. You can also activate Pruufs just on the main site, and then individually on other sites of your choice.

= Where are the Pruufs stored in my WordPress database? =
Pruufs are stored in the `wp_Pruufs` table in the WordPress database. The table name may differ depending on what your table prefix is set to.

= Where can I go for help or suggest new features? =
You can get help with Pruufs, report bugs or errors, and suggest new features and improvements either on the [WordPress Support Forums](https://wordpress.org/support/plugin/code-Pruufs) or on [GitHub](https://github.com/codePruufspro/code-Pruufs)

= How can I help contribute to the development of the Pruufs plugin? =
The best way to do this is to fork the [repository on GitHub](https://github.com/codePruufspro/code-Pruufs) and send a pull request.

== Screenshots ==

1. Managing existing Pruufs
2. Adding a new Pruuf
3. Editing a Pruuf
4. Importing Pruufs from an export file

== Changelog ==

= 3.4.2 (05 Jul 2023) =
* Fixed: Issue causing export process to fail with fatal error. [[#](https://wordpress.org/support/topic/critical-error-on-exporting-Pruufs/)]
* Fixed: Type issue on `the_posts` filter when no posts available. [[#](https://wordpress.org/support/topic/collision-with-plugin-xml-sitemap-google-news/)]

= 3.4.1 (29 Jun 2023) =
* Fixed: Undefined array key error. [[#](https://wordpress.org/support/topic/after-updating-occasionally-getting-undefined-array-key-query/)]
* Fixed: Potential type issue when loading Prism. [[#](https://wordpress.org/support/topic/code-Pruufs-fatal-error-breaking-xml-sitemaps/)]
* Improved: Added better debugging when calling REST API methods from the edit menu.
* Improved: Escape special characters when sending Pruuf code through AJAX to avoid false-positives from security modules. [[#](https://wordpress.org/support/topic/latest-3-4-0-ajax-bug-cannot-save-Pruufs-403-error/)]
* Improved: Only display the latest update or error notice on the edit page, instead of allowing them to stack.
* Fixed: Potential type issue when sorting Pruufs. [[#](https://github.com/codePruufspro/code-Pruufs/issues/166)]
* Fixed: Issue preventing asset revision numbers from updating correctly. (PRO) [[#](https://github.com/codePruufspro/code-Pruufs/issues/166)]

= 3.4.0 (17 May 2023) =
* Added: Proper WordPress REST API support for retrieving and modifying Pruufs.
* Improved: Better compatibility with modern versions of PHP (7.0+).
* Improved: Converted Edit/Add New Pruuf page to use React.
  * Converted action buttons to asynchronously use REST API endpoints through AJAX.
  * Load page components dynamically through React.
  * Added action notice queue system.
  * Replaced native alert dialog with proper React modal.
* Improved: Catch Pruuf execution errors to prevent site from crashing.
* Improved: Display recent Pruuf errors in admin dashboard instead.
* Improved: Updated editor block to use new REST API endpoints. (PRO)
* Improved: Change colour of upgrade notice in Pro plugin. (PRO)
* Improved: All available Pruuf data is included in export files.
* Improved: Only import specific fields from export file, even if additional fields specified.
* Fixed: Issue preventing editor colorpicker from loading correctly. (PRO)
* Improved: Added help links to content Pruuf options.
* Improved: Pass additional attributes specified in `[code_Pruuf]` content shortcode to shortcode content.
* Improved: Make shortcode attributes available as individual variables.
* Improved: Allow boolean attributes to be passed to Pruufs shortcodes without specifying a value.
* Improved: Replace external links to Pro pricing page with an upgrade modal.
* Fixed: Issue preventing linting libraries from loading correctly in the code editor.

= 3.3.0 (09 Mar 2023) =
* Fixed: Do not enqueue CSS or JS Pruuf file if no Pruufs exist. (PRO)
* Improved: Added additional editor shortcuts to list in tooltip.
* Added: Filter for changing Pruufs admin menu position. [See this help article for more information.](https://help.Pruuf.app/article/61-how-can-i-change-the-location-of-the-Pruufs-admin-menu)
* Added: Ability to filter shortcode output. Thanks to contributions from [Jack Szwergold](https://github.com/JackSzwergold).
* Fixed: Bug causing all Pruufs to show in site health information instead of those active.
* Fixed: Unnecessary sanitization of file upload data causing import process to fail on Windows systems.

= 3.2.2 (17 Nov 2022) =
* Fixed: Plugin lacking a valid header error on activation.

= 3.2.1 (05 Oct 2022) =
* Fixed: Issue making survey reminder notice not dismissible.
* Added: `Ctrl`+`/` or `Cmd`+`/` as shortcut for commenting out code in the Pruuf editor.
* Added: Additional hooks to various Pruuf actions, thanks to contributions made by [ancient-spirit](https://github.com/ancient-spirit).
* Added: Fold markers, additional keyboard shortcuts and keymap options to Pruuf editor,
thanks to contributions made by [Amaral Krichman](https://github.com/karmaral).
* Improved: Removed duplicate tables exist query. ([#](https://wordpress.org/support/topic/duplicate-queries-21)).
* Improved: Enabled 'add paragraphs and formatting' option by default for newly inserted content Pruufs.
* Added: WP-CLI commands for retrieving, activating, deactivating, deleting, creating, updating, exporting and importing Pruufs.
* Fixed: Path to iron visible when updating the pro plugin.

= 3.2.0 (22 Jul 2022) =
* Fixed: Remove default value from SQL columns to improve compatibility with certain versions of MySQL.
* Fixed: Delay loading Pruufs in Gutenberg editor blocks. (PRO)
* Added: Option to show and hide line numbers in Gutenberg source code editor block. (PRO)
* Added: Support for highlighting HTML, CSS, JS and embedded code in the front-end PrismJS code highlighter.
* Added: Additional features to front-end PrismJS code highlighter, including automatic links and a copy button.
* Added: Support for multiple code styles in the source code Gutenberg editor block. (PRO)
* Added: Admin notice announcing release of Pruufs Pro.
* Fixed: Inconsistencies with translations between different plugin versions.
* Fixed: Issue with Content Pruuf shortcode information not displaying.
* Added: Button for copying shortcode text to clipboard.
* Improved: Include Pruufs CSS and JS source code in distributed package.
* Improved: Don't delete data from plugin if deleting Pruufs Free while Pruufs Pro is active.
* Improved: Streamlined user interface and experience in Gutenberg editor blocks. (PRO)
* Added: Option to choose from 44 different themes for the Prism code highlighter in the source editor block and Elementor widget. (PRO)
* Improved: Compatibility of Elementor widgets with the latest version of Elementor. (PRO)
* Improved: Replace icon font menu icon with embedded SVG icon.

= 3.1.2 (03 Jul 2022) =
* Updated external links and branding for Pruufs Pro.
* Improved: Add link URLs to settings pages, as an alternative to in-page navigation.
* Fixed: Various fixes to block editor scripts. (PRO)
* Fixed: Improved visual style of Gutenberg editor blocks. (PRO)

= 3.1.1 (13 Jun 2022) =
* Fixed: Download Pruufs feature not including Pruuf content.
* Fixed: Alignment of 'opens externally' dashicon.
* Improved: Added additional parameters to `code_Pruufs/export/filename` filter.

= 3.1.0 (17 May 2022) =
* Fixed: Caching inconsistencies preventing Pruufs and settings from refreshing on sites with persistent object caching.
* Improved: Simplified database queries.
* Added: More comprehensive cache coverage, including for active Pruufs.
* Added: Icon to 'Go Pro' button indicating it opens an external tab.
* Improved: Allow display styles in Pruuf descriptions.

= 3.0.1 (14 May 2022) =
* Fixed: Incompatibility issue with earlier versions of PHP.

= 3.0.0 (14 May 2022) =

__Added__

* Added: HTML content Pruufs for displaying as shortcodes or including in the page head or footer area.
* Added: Notice reminding users to upgrade unsupported PHP versions.
* Added: Visual settings to add attributes to shortcodes.
* Added: Shortcode buttons to the post and page content editors.
* Added: Basic REST API endpoints.
* Added: Pruuf type column to the Pruufs table.
* Added: Pruuf type badges to Edit and Add New Pruuf pages.
* Added: Setting to control whether the current line of the code editor is highlighted.
* Added: Display a warning when saving a Pruuf with missing title or code.
* Added: Add suffix to title of cloned Pruufs.

__Changed__

* Improved: Updated plugin code to use namespaces, preventing name collisions with other plugins.
* Improved: Added key for the 'active' and 'scope' database table columns to speed up queries.
* Improved: Redirect from edit menu if not editing a valid Pruuf.
* Improved: Moved activation switch into its own table column.
* Improved: Updated code documentation according to WordPress standards.
* Improved: Added Pruuf type labels to the tabs on the Pruufs page.
* Improved: Split settings page into tabs.
* Improved: Use the version of CodeMirror included with WordPress where possible to inherit the additional built-in features.
* Improved: Added hover effect to priority settings in the Pruufs table to show that they are editable.
* Fixed: Pruufs table layout on smaller screens.

__Deprecated__

* Removed: Deprecated functions and compatibility code for unsupported PHP versions.
* Removed: Option to disable Pruuf scopes.

__New in Pro__

* Added: CSS style Pruufs for the site front-end and admin area.
* Added: JavaScript Pruufs for the site head and body area on the front-end.
* Added: Browser cache versioning for CSS and JavaScript Pruufs.
* Added: Support for exporting and downloading CSS and JavaScript Pruufs.
* Added: Support for highlighting code on the front-end.
* Added: Editor syntax highlighting for CSS, JavaScript and HTML Pruufs.
* Added: Button to preview full file when editing CSS or JavaScript Pruufs.
* Added: Option to minify CSS and JavaScript Pruufs.
* Added: Gutenberg editor block for displaying content Pruufs.
* Added: Gutenberg editor block for displaying Pruuf source code.
* Added: Elementor widget for displaying content Pruufs.
* Added: Elementor widget for displaying Pruuf source code.

**[The full changelog is available on GitHub](https://github.com/codePruufspro/code-Pruufs/blob/master/CHANGELOG.md)**

== Upgrade Notice ==

= 3.4.2 =
Bug fixes for export process and plugin compatibility.

= 3.4.0 =
New editor screen and code error checking.
